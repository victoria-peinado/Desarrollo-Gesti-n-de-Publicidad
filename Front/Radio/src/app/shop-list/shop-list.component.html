<!-- Display message when there are no trades -->
<p *ngIf="trades.length === 0">No hay comercios con los criterios requeridos</p>

<<<<<<< Updated upstream
<!-- Display the cuit of the titular -->
<section id="titular" *ngIf="trades.length != 0">
  <div class="m-5">
    <b class="text-lg">Comercios de titular del cuit: {{ cuit }} </b>
  </div>
</section>
=======
<p  *ngIf="shops.length === 0"> No hay comercios con los criterios requeridos</p>
<section id="titular"  *ngIf="shops.length!=0">
    <div class="m-5">
        <b class="text-lg">Comercios de titular del cuit: {{cuit}}
        </b>
    </div>
</section>
<div id="table" *ngIf="shops.length != 0" class="h-auto">
  <div class="p-5 h-auto" > 
>>>>>>> Stashed changes

<!-- Table for displaying trades -->
<div id="table" *ngIf="trades.length != 0" class="h-auto">
  <!-- Filter input field -->
  <div class="p-5 h-auto">
    <mat-form-field id="filtro">
      <mat-label>Filtrar</mat-label>
      <input matInput [(ngModel)]="inputfilter" (input)="filterTable()" />
    </mat-form-field>
    <!-- Desktop view: Display trades in a table -->
    <div class="overflow-auto rounded-lg shadow hidden md:block">
      <table class="w-full" *ngIf="trades.length > 0">
        <!-- Table header -->
        <thead class="bg-gray-200 border-b-2 border-gray-200">
          <tr>
            <th
              (click)="marcarNegrita('fantasyName')"
              (mouseenter)="entrada()"
              (mouseleave)="salida()"
              class="w-40 p-3 text-sm front-semibold tracking-wide text-left cursor-pointer"
            >
              Nombre fantasía
              <mat-icon
                #flechitaElement
                [style.visibility]="
                  entro || click == 1 || click == 2 ? 'visible' : 'hidden'
                "
                class="flechita"
                [ngClass]="{
                  negrita: textoMarcado,
                  entrada: entb,
                  salida: salb
                }"
              >
                {{ click == 2 ? "south" : "north" }}
              </mat-icon>
            </th>

<<<<<<< Updated upstream
            <th
              (click)="marcarNegrita('address')"
              (mouseenter)="entrada()"
              (mouseleave)="salida()"
              class="w-40 p-3 text-sm front-semibold tracking-wide text-left cursor-pointer"
            >
              Dirección
              <mat-icon
                #flechitaElement
                [style.visibility]="
                  entro || click == 1 || click == 2 ? 'visible' : 'hidden'
                "
                class="flechita"
                [ngClass]="{
                  negrita: textoMarcado,
                  entrada: entb,
                  salida: salb
                }"
              >
                {{ click == 2 ? "south" : "north" }}
              </mat-icon>
            </th>

            <th
              (click)="marcarNegrita('billingType')"
              (mouseenter)="entrada()"
              (mouseleave)="salida()"
              class="w-40 p-3 text-sm front-semibold tracking-wide text-left cursor-pointer"
            >
              Tipo Facturación
              <mat-icon
                #flechitaElement
                [style.visibility]="
                  entro || click == 1 || click == 2 ? 'visible' : 'hidden'
                "
                class="flechita"
                [ngClass]="{
                  negrita: textoMarcado,
                  entrada: entb,
                  salida: salb
                }"
              >
                {{ click == 2 ? "south" : "north" }}
              </mat-icon>
            </th>

            <th
              (click)="marcarNegrita('mail')"
              (mouseenter)="entrada()"
              (mouseleave)="salida()"
              class="w-40 p-3 text-sm front-semibold tracking-wide text-left cursor-pointer"
            >
              Email
              <mat-icon
                #flechitaElement
                [style.visibility]="
                  entro || click == 1 || click == 2 ? 'visible' : 'hidden'
                "
                class="flechita"
                [ngClass]="{
                  negrita: textoMarcado,
                  entrada: entb,
                  salida: salb
                }"
              >
                {{ click == 2 ? "south" : "north" }}
              </mat-icon>
            </th>

            <th
              (click)="marcarNegrita('usualPaymentForm')"
              (mouseenter)="entrada()"
              (mouseleave)="salida()"
              class="w-40 p-3 text-sm front-semibold tracking-wide text-left cursor-pointer"
            >
              Forma Pago
              <mat-icon
                #flechitaElement
                [style.visibility]="
                  entro || click == 1 || click == 2 ? 'visible' : 'hidden'
                "
                class="flechita"
                [ngClass]="{
                  negrita: textoMarcado,
                  entrada: entb,
                  salida: salb
                }"
              >
                {{ click == 2 ? "south" : "north" }}
              </mat-icon>
            </th>

            <th
              (click)="marcarNegrita('type')"
              (mouseenter)="entrada()"
              (mouseleave)="salida()"
              class="w-40 p-3 text-sm front-semibold tracking-wide text-left cursor-pointer"
            >
              Tipo
              <mat-icon
                #flechitaElement
                [style.visibility]="
                  entro || click == 1 || click == 2 ? 'visible' : 'hidden'
                "
                class="flechita"
                [ngClass]="{
                  negrita: textoMarcado,
                  entrada: entb,
                  salida: salb
                }"
              >
                {{ click == 2 ? "south" : "north" }}
              </mat-icon>
            </th>
          </tr>
        </thead>
        <!-- Table body -->
        <tbody class="divide-y divide-gray-100">
          <tr *ngFor="let trade of trades" class="bg-white">
            <td class="p-3 text-sm text-gray-700 whitespace-nowrap">
              {{ trade.fantasyName }}
            </td>
            <td class="p-3 text-sm text-gray-700 whitespace-nowrap">
              {{ trade.address }}
            </td>
            <td class="p-3 text-sm text-gray-700 whitespace-nowrap">
              {{ trade.billingType }}
            </td>
            <td class="p-3 text-sm text-gray-700 whitespace-nowrap">
              <a href="#" class="font-bold text-blue-500 hover:underline">{{
                trade.mail
              }}</a>
            </td>
            <td class="p-3 text-sm text-gray-700 whitespace-nowrap">
              {{ trade.usualPaymentForm }}
            </td>
            <td class="p-3 text-sm text-gray-700 whitespace-nowrap">
              <span
                [ngClass]="{
                  'bg-yellow-200 text-yellow-800': trade.type === 'Empresa',
                  'bg-green-200 text-green-800': trade.type === 'PyME',
                  'bg-gray-200 text-gray-800': trade.type === 'Otro'
                }"
                class="p-1.5 text-xs font-medium uppercase tracking-wider rounded-lg bg-opacity-50"
              >
                {{ trade.type }}</span
              >
            </td>
          </tr>
        </tbody>
      </table>
    </div>
     <!-- Mobile view: Display trades as cards -->
    <div
      *ngIf="trades.length > 0"
      class="grid grid-cols-1 sm:grid-cols-2 gap-4 md:hidden"
    >
      <div
        id="tarjetas"
        *ngFor="let trade of trades"
        class="bg-white space-y-2 p-4 rounded-lg shadow relative"
      >
        <div class="flex items-center space-x-2 text-sm">
          <div>
            <a href="#" class="text-blue font-bold hover:underline">{{
              trade.fantasyName
            }}</a>
          </div>
          <div class="text-gray-500">{{ trade.address }}</div>
          <div>
            <span
              [ngClass]="{
                'bg-yellow-200 text-yellow-800': trade.type === 'Empresa',
                'bg-green-200 text-green-800': trade.type === 'PyME',
                'bg-gray-200 text-gray-800': trade.type === 'Otro'
              }"
              class="p-1.5 text-xs font-medium uppercase tracking-wider rounded-lg bg-opacity-50"
            >
              {{ trade.type }}</span
            >
          </div>
=======
      <div class="overflow-auto rounded-lg shadow hidden md:block">
          <table class="w-full" *ngIf="shops.length > 0">
              <thead class="bg-gray-200 border-b-2 border-gray-200">
                  <tr>
                    <th (click)="marcarNegrita('fantasyName')" (mouseenter)="input()" (mouseleave)="output()" class="w-40 p-3 text-sm front-semibold tracking-wide text-left cursor-pointer">
                      Nombre fantasía
                      <mat-icon #flechitaElement [style.visibility]="entro || click == 1 || click == 2 ? 'visible' : 'hidden'" class="flechita" [ngClass]="{'negrita': textoMarcado, 'input': entb, 'output': salb}">
                        {{ click == 2 ? 'south' : 'north' }}
                      </mat-icon>
                    </th>

                    <th (click)="marcarNegrita('address')" (mouseenter)="input()" (mouseleave)="output()" class="w-40 p-3 text-sm front-semibold tracking-wide text-left cursor-pointer">
                      Dirección
                      <mat-icon #flechitaElement [style.visibility]="entro || click == 1 || click == 2 ? 'visible' : 'hidden'" class="flechita" [ngClass]="{'negrita': textoMarcado, 'input': entb, 'output': salb}">
                        {{ click == 2 ? 'south' : 'north' }}
                      </mat-icon>
                    </th>

                    <th (click)="marcarNegrita('billingType')" (mouseenter)="input()" (mouseleave)="output()" class="w-40 p-3 text-sm front-semibold tracking-wide text-left cursor-pointer">
                      Tipo Facturación
                      <mat-icon #flechitaElement [style.visibility]="entro || click == 1 || click == 2 ? 'visible' : 'hidden'" class="flechita" [ngClass]="{'negrita': textoMarcado, 'input': entb, 'output': salb}">
                        {{ click == 2 ? 'south' : 'north' }}
                      </mat-icon>
                    </th>

                    <th (click)="marcarNegrita('mail')" (mouseenter)="input()" (mouseleave)="output()" class="w-40 p-3 text-sm front-semibold tracking-wide text-left cursor-pointer">
                      Email
                      <mat-icon #flechitaElement [style.visibility]="entro || click == 1 || click == 2 ? 'visible' : 'hidden'" class="flechita" [ngClass]="{'negrita': textoMarcado, 'input': entb, 'output': salb}">
                        {{ click == 2 ? 'south' : 'north' }}
                      </mat-icon>
                    </th>

                    <th (click)="marcarNegrita('usualPaymentForm')" (mouseenter)="input()" (mouseleave)="output()" class="w-40 p-3 text-sm front-semibold tracking-wide text-left cursor-pointer">
                      Forma Pago
                      <mat-icon #flechitaElement [style.visibility]="entro || click == 1 || click == 2 ? 'visible' : 'hidden'" class="flechita" [ngClass]="{'negrita': textoMarcado, 'input': entb, 'output': salb}">
                        {{ click == 2 ? 'south' : 'north' }}
                      </mat-icon>
                    </th>

                    <th (click)="marcarNegrita('type')" (mouseenter)="input()" (mouseleave)="output()" class="w-40 p-3 text-sm front-semibold tracking-wide text-left cursor-pointer">
                      Tipo
                      <mat-icon #flechitaElement [style.visibility]="entro || click == 1 || click == 2 ? 'visible' : 'hidden'" class="flechita" [ngClass]="{'negrita': textoMarcado, 'input': entb, 'output': salb}">
                        {{ click == 2 ? 'south' : 'north' }}
                      </mat-icon>
                    </th>

                  </tr>
              </thead>
  
              <tbody class="divide-y divide-gray-100">
                  <tr *ngFor="let shop of shops" class="bg-white">
                    <td class="p-3 text-sm text-gray-700 whitespace-nowrap">{{shop.fantasyName}}</td>
                    <td class="p-3 text-sm text-gray-700 whitespace-nowrap">{{shop.address}}</td>
                    <td class="p-3 text-sm text-gray-700 whitespace-nowrap">{{shop.billingType}}</td>
                    <td class="p-3 text-sm text-gray-700 whitespace-nowrap">
                      <a href="#" class="font-bold text-blue-500 hover:underline">{{shop.mail}}</a>
                    </td>
                    <td class="p-3 text-sm text-gray-700 whitespace-nowrap">{{shop.usualPaymentForm}}</td>
                    <td class="p-3 text-sm text-gray-700 whitespace-nowrap">
                      <span [ngClass]="{
                        'bg-yellow-200 text-yellow-800': shop.type === 'Empresa',
                        'bg-green-200 text-green-800': shop.type === 'PyME',
                        'bg-gray-200 text-gray-800': shop.type === 'Otro'
                      }" 
                      class="p-1.5 text-xs font-medium uppercase tracking-wider rounded-lg bg-opacity-50">
                      {{shop.type}}</span>
                    </td>
                  </tr>
              </tbody>

          </table>
      </div>

      <div *ngIf="shops.length > 0" class="grid grid-cols-1 sm:grid-cols-2 gap-4 md:hidden">
        <div id="tarjetas" *ngFor="let shop of shops" class="bg-white space-y-2 p-4 rounded-lg shadow relative">

          <div class="flex items-center space-x-2 text-sm">
            <div>
              <a href="#" class="text-blue font-bold hover:underline">{{shop.fantasyName}}</a>
            </div>
            <div class="text-gray-500">{{shop.address}}</div>
            <div>
              <span [ngClass]="{
                'bg-yellow-200 text-yellow-800': shop.type === 'Empresa',
                'bg-green-200 text-green-800': shop.type === 'PyME',
                'bg-gray-200 text-gray-800': shop.type === 'Otro'
              }" class="p-1.5 text-xs font-medium uppercase tracking-wider rounded-lg bg-opacity-50">
              {{shop.type}}</span>
            </div>
          </div>
      
          <div *ngIf="visibleContent[shop.fantasyName] || band " class="text-sm text-gray-700">
            <a href="#" class="font-bold text-blue-500 hover:underline">{{shop.mail}}</a>
          </div>
      
          <div *ngIf="visibleContent[shop.fantasyName] || band" class="text-sm text-gray-700">
            {{shop.billingType}}
          </div>

          <div *ngIf="visibleContent[shop.fantasyName] || band" class="text-sm font-medium text-black">
            {{shop.usualPaymentForm}}
          </div>
      
          <button
            id="flechita"
            *ngIf="isScreenSmall()"
            (click)="toggleCardContent(shop)"
            class="absolute top-0 right-0 p-2 focus:outline-none group"
            [@rotateArrow]="visibleContent[shop.fantasyName] ? 'up' : 'down'"
          >
            <mat-icon class="text-gray-500">expand_more</mat-icon>
          </button>

>>>>>>> Stashed changes
        </div>

        <div
          *ngIf="visibleContent[trade.fantasyName] || band"
          class="text-sm text-gray-700"
        >
          <a href="#" class="font-bold text-blue-500 hover:underline">{{
            trade.mail
          }}</a>
        </div>

        <div
          *ngIf="visibleContent[trade.fantasyName] || band"
          class="text-sm text-gray-700"
        >
          {{ trade.billingType }}
        </div>

        <div
          *ngIf="visibleContent[trade.fantasyName] || band"
          class="text-sm font-medium text-black"
        >
          {{ trade.usualPaymentForm }}
        </div>

        <button
          id="flechita"
          *ngIf="isScreenSmall()"
          (click)="toggleCardContent(trade)"
          class="absolute top-0 right-0 p-2 focus:outline-none group"
          [@rotateArrow]="visibleContent[trade.fantasyName] ? 'up' : 'down'"
        >
          <mat-icon class="text-gray-500">expand_more</mat-icon>
        </button>
      </div>
    </div>
  </div>
</div>
