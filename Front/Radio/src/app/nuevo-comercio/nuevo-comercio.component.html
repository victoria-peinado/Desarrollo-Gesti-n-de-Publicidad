<section id="titular">
    <div class="m-5">
        <b class="text-lg">TITULAR</b>
    </div>
    <div class="m-4 flex flex-row items-center justify-left">
    
        <div class="inline-block ml-4 mr-4">
            <p class="text-3xs ml-10 text-left">CUIT</p>
            <mat-form-field class="-mt-2 " appearance="outline">
                <input matInput [value]="cuit" readonly>
            </mat-form-field>
        </div>
    
        <div class="inline-block ml-4 mr-4">
            <p class="text-3xs ml-10 text-left">RAZON SOCIAL</p>
            <mat-form-field class="-mt-2" appearance="outline">
                <input matInput [value]="razonSocial" readonly>
            </mat-form-field>
        </div>
    
        <div class="inline-block ml-4 mr-4">
          <p class="text-3xs ml-10 text-left">CONDICION FISCAL</p>
          <mat-form-field class="-mt-2" appearance="outline">
              <input matInput [value]="condicionFinal" readonly>
          </mat-form-field>
      </div>


    </div>
</section>

<section id="comerciosTitular" >
  <div class="m-5">
    <b class="text-lg">COMERCIOS DEL TITULAR</b>
  </div>
  
  <div class="m-5">
    <mat-form-field>
      <mat-label>Filtrar</mat-label>
      <input matInput (keyup)="applyFilter($event)" placeholder="Ej. Juguetes SRL" #input>
    </mat-form-field>
  </div>
  
  <div class="m-4 flex flex-row items-center justify-left">
    <div class="mat-elevation-z8">
      <table mat-table [dataSource]="dataSource" matSort>
    
        <ng-container matColumnDef="fantasyName">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Nombre fantasía </th>
          <td mat-cell *matCellDef="let row"> {{row.fantasyName}} </td>
        </ng-container>
    
        <ng-container matColumnDef="address">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Direccion </th>
          <td mat-cell *matCellDef="let row"> {{row.address}}% </td>
        </ng-container>
    
        <ng-container matColumnDef="billingType">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Tipo de facturación </th>
          <td mat-cell *matCellDef="let row"> {{row.billingType}} </td>
        </ng-container>
    
        <ng-container matColumnDef="mail">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Mail </th>
          <td mat-cell *matCellDef="let row"> {{row.mail}} </td>
        </ng-container>
  
        <ng-container matColumnDef="usualPaymentForm">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Forma Pago </th>
          <td mat-cell *matCellDef="let row"> {{row.usualPaymentForm}} </td>
        </ng-container>
  
        <ng-container matColumnDef="type">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Tipo </th>
          <td mat-cell *matCellDef="let row"> {{row.type}} </td>
        </ng-container>
    
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    
        <tr class="mat-row" *matNoDataRow>
          <td class="mat-cell" colspan="4">No hay datos que coincidan con el filtro: "{{input.value}}"</td>
        </tr>
      </table>
    
      <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" aria-label="Seleccionar página de usuarios"></mat-paginator>
    </div>
    <div class="m-5">
      <app-btn-degrade [text]="'Nuevo Comercio'" (click)="showNewTrade()"></app-btn-degrade>
    </div>
  </div>
 
</section>

<form class="mt-3" [formGroup]="tradeForm" (ngSubmit)="verifyNameFantasy()">
  <section id="nuevoComercio" *ngIf="mostrarNuevoComercio">

    <div class="m-5">
        <b class="text-lg">NUEVO COMERCIO</b>
    </div>
  
    <div class="inline-block ml-4 mr-4">
      <div>
        <mat-form-field [color]="coloring">
          <mat-label>Nombre fantasia</mat-label>
            <div>
              <input matInput #nombreFantasiaInput formControlName="fantasyName">
            </div>
          </mat-form-field>
      </div>
      <div *ngIf="nombreFantasiaInvalid" class="text-red-600 text-xs -mt-4 mb-3" color="warn" [innerHTML]="message">{{message}}</div>
      
      <div>
        <mat-form-field [color]="coloring">
          <mat-label>Direccion</mat-label>
            <div>
              <input matInput formControlName="address">
            </div>
            <mat-error *ngIf="tradeForm.get('address')?.invalid">{{alertUser()}}</mat-error>
          </mat-form-field>
      </div>
  
      <div>
        <mat-form-field [color]="coloring">
          <mat-label>Tipo facturación</mat-label>
          <mat-select formControlName="billingType">
            <mat-option value="Responsable Inscripto">Responsable Inscripto</mat-option>
            <mat-option value="Monotributo">Monotributo</mat-option>
            <mat-option value="Otro">Otro</mat-option>
          </mat-select>
          <mat-error *ngIf="tradeForm.get('billingType')?.invalid">{{alertUser()}}</mat-error>
        </mat-form-field>
      </div>

      <div>
        <mat-form-field [color]="coloring">
          <mat-label>Mail</mat-label>
            <div>
              <input matInput formControlName="mail">
            </div>
            <mat-error *ngIf="tradeForm.get('mail')?.invalid">{{getMailErrorMessage()}}</mat-error>
        </mat-form-field>
      </div>

      <div>
        <mat-form-field [color]="coloring">
          <mat-label>Forma de pago usual</mat-label>
          <mat-select formControlName="usualPaymentForm">
            <mat-option value="Efectivo">Efectivo</mat-option>
            <mat-option value="Tarjeta de Crédito">Tarjeta de Crédito</mat-option>
            <mat-option value="Tarjeta de Débito">Tarjeta de Débito</mat-option>
            <mat-option value="Cheque">Cheque</mat-option>
            <mat-option value="Otro">Otro</mat-option>
          </mat-select>
          <mat-error *ngIf="tradeForm.get('usualPaymentForm')?.invalid">{{alertUser()}}</mat-error>
        </mat-form-field>
      </div>

      <div>
        <mat-form-field [color]="coloring">
          <mat-label>Tipo</mat-label>
          <mat-select formControlName="type">
            <mat-option value="Empresa">Empresa</mat-option>
            <mat-option value="PyME">PyME</mat-option>
            <mat-option value="Otro">Otro</mat-option>
          </mat-select>
          <mat-error *ngIf="tradeForm.get('type')?.invalid">{{alertUser()}}</mat-error>
        </mat-form-field>
      </div>
  
      <div>
        <app-btn-degrade type="submit" [disabled]="tradeForm.invalid" [text]="'Continuar'"></app-btn-degrade>
      </div>
  
    </div>
  </section>
</form>

<section id="comercio" *ngIf="continuarNuevoComercio">
  <div class="m-5">
      <b class="text-lg">CONTACTO</b>
  </div>
  <div class="m-4 flex flex-row items-center justify-left">
  
      <div class="inline-block ml-4 mr-4">
          <p class="text-3xs ml-10 text-left">NOMBRE</p>
          <mat-form-field class="-mt-2 " appearance="outline">
              <input matInput>
          </mat-form-field>
      </div>
  
      <div class="inline-block ml-4 mr-4">
          <p class="text-3xs ml-10 text-left">APELLIDO</p>
          <mat-form-field class="-mt-2" appearance="outline">
              <input matInput>
          </mat-form-field>
      </div>
  
      <div class="inline-block ml-4 mr-4">
        <p class="text-3xs ml-10 text-left">DNI</p>
        <mat-form-field class="-mt-2" appearance="outline">
            <input matInput>
        </mat-form-field>
    </div>
  </div>
  <div class="m-4 flex flex-row items-center justify-left">
  
    <div class="inline-block ml-4 mr-4">
        <p class="text-3xs ml-10 text-left">TELEFONO</p>
        <mat-form-field class="-mt-2 " appearance="outline">
            <input matInput>
        </mat-form-field>
    </div>

    <div class="inline-block ml-4 mr-4">
        <p class="text-3xs ml-10 text-left">MAIL</p>
        <mat-form-field class="-mt-2" appearance="outline">
            <input matInput>
        </mat-form-field>
    </div>

    

</div>
</section>
